!function(t){var e=window.webpackHotUpdate;window.webpackHotUpdate=function(t,i){!function(t,e){if(!x[t]||!b[t])return;for(var i in b[t]=!1,e)Object.prototype.hasOwnProperty.call(e,i)&&(m[i]=e[i]);0==--y&&0===v&&k()}(t,i),e&&e(t,i)};var i,s=!0,n="3ae2df22b347ab3ea9de",o=1e4,r={},a=[],l=[];function c(t){var e=L[t];if(!e)return z;var s=function(s){return e.hot.active?(L[s]?-1===L[s].parents.indexOf(t)&&L[s].parents.push(t):(a=[t],i=s),-1===e.children.indexOf(s)&&e.children.push(s)):(console.warn("[HMR] unexpected require("+s+") from disposed module "+t),a=[]),z(s)},n=function(t){return{configurable:!0,enumerable:!0,get:function(){return z[t]},set:function(e){z[t]=e}}};for(var o in z)Object.prototype.hasOwnProperty.call(z,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(s,o,n(o));return s.e=function(t){return"ready"===u&&p("prepare"),v++,z.e(t).then(e,function(t){throw e(),t});function e(){v--,"prepare"===u&&(w[t]||E(t),0===v&&0===y&&k())}},s.t=function(t,e){return 1&e&&(t=s(t)),z.t(t,-2&e)},s}function d(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(t,i){if(void 0===t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var s=0;s<t.length;s++)e._acceptedDependencies[t[s]]=i||function(){};else e._acceptedDependencies[t]=i||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if("object"==typeof t)for(var i=0;i<t.length;i++)e._declinedDependencies[t[i]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var i=e._disposeHandlers.indexOf(t);i>=0&&e._disposeHandlers.splice(i,1)},check:A,apply:O,status:function(t){if(!t)return u;h.push(t)},addStatusHandler:function(t){h.push(t)},removeStatusHandler:function(t){var e=h.indexOf(t);e>=0&&h.splice(e,1)},data:r[t]};return i=void 0,e}var h=[],u="idle";function p(t){u=t;for(var e=0;e<h.length;e++)h[e].call(null,t)}var f,m,g,y=0,v=0,w={},b={},x={};function S(t){return+t+""===t?+t:t}function A(t){if("idle"!==u)throw new Error("check() is only allowed in idle status");return s=t,p("check"),(e=o,e=e||1e4,new Promise(function(t,i){if("undefined"==typeof XMLHttpRequest)return i(new Error("No browser support"));try{var s=new XMLHttpRequest,o=z.p+""+n+".hot-update.json";s.open("GET",o,!0),s.timeout=e,s.send(null)}catch(t){return i(t)}s.onreadystatechange=function(){if(4===s.readyState)if(0===s.status)i(new Error("Manifest request to "+o+" timed out."));else if(404===s.status)t();else if(200!==s.status&&304!==s.status)i(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(s.responseText)}catch(t){return void i(t)}t(e)}}})).then(function(t){if(!t)return p("idle"),null;b={},w={},x=t.c,g=t.h,p("prepare");var e=new Promise(function(t,e){f={resolve:t,reject:e}});m={};return E(0),"prepare"===u&&0===v&&0===y&&k(),e});var e}function E(t){x[t]?(b[t]=!0,y++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=z.p+""+t+"."+n+".hot-update.js",document.head.appendChild(e)}(t)):w[t]=!0}function k(){p("ready");var t=f;if(f=null,t)if(s)Promise.resolve().then(function(){return O(s)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var i in m)Object.prototype.hasOwnProperty.call(m,i)&&e.push(S(i));t.resolve(e)}}function O(e){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var i,s,o,l,c;function d(t){for(var e=[t],i={},s=e.slice().map(function(t){return{chain:[t],id:t}});s.length>0;){var n=s.pop(),o=n.id,r=n.chain;if((l=L[o])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:r,moduleId:o};if(l.hot._main)return{type:"unaccepted",chain:r,moduleId:o};for(var a=0;a<l.parents.length;a++){var c=l.parents[a],d=L[c];if(d){if(d.hot._declinedDependencies[o])return{type:"declined",chain:r.concat([c]),moduleId:o,parentId:c};-1===e.indexOf(c)&&(d.hot._acceptedDependencies[o]?(i[c]||(i[c]=[]),h(i[c],[o])):(delete i[c],e.push(c),s.push({chain:r.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:i}}function h(t,e){for(var i=0;i<e.length;i++){var s=e[i];-1===t.indexOf(s)&&t.push(s)}}e=e||{};var f={},y=[],v={},w=function(){console.warn("[HMR] unexpected require("+A.moduleId+") to disposed module")};for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)){var A;c=S(b);var E=!1,k=!1,O=!1,$="";switch((A=m[b]?d(c):{type:"disposed",moduleId:b}).chain&&($="\nUpdate propagation: "+A.chain.join(" -> ")),A.type){case"self-declined":e.onDeclined&&e.onDeclined(A),e.ignoreDeclined||(E=new Error("Aborted because of self decline: "+A.moduleId+$));break;case"declined":e.onDeclined&&e.onDeclined(A),e.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+A.moduleId+" in "+A.parentId+$));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(A),e.ignoreUnaccepted||(E=new Error("Aborted because "+c+" is not accepted"+$));break;case"accepted":e.onAccepted&&e.onAccepted(A),k=!0;break;case"disposed":e.onDisposed&&e.onDisposed(A),O=!0;break;default:throw new Error("Unexception type "+A.type)}if(E)return p("abort"),Promise.reject(E);if(k)for(c in v[c]=m[c],h(y,A.outdatedModules),A.outdatedDependencies)Object.prototype.hasOwnProperty.call(A.outdatedDependencies,c)&&(f[c]||(f[c]=[]),h(f[c],A.outdatedDependencies[c]));O&&(h(y,[A.moduleId]),v[c]=w)}var C,R=[];for(s=0;s<y.length;s++)c=y[s],L[c]&&L[c].hot._selfAccepted&&R.push({module:c,errorHandler:L[c].hot._selfAccepted});p("dispose"),Object.keys(x).forEach(function(t){!1===x[t]&&function(t){delete installedChunks[t]}(t)});for(var N,P,D=y.slice();D.length>0;)if(c=D.pop(),l=L[c]){var q={},_=l.hot._disposeHandlers;for(o=0;o<_.length;o++)(i=_[o])(q);for(r[c]=q,l.hot.active=!1,delete L[c],delete f[c],o=0;o<l.children.length;o++){var M=L[l.children[o]];M&&((C=M.parents.indexOf(c))>=0&&M.parents.splice(C,1))}}for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(l=L[c]))for(P=f[c],o=0;o<P.length;o++)N=P[o],(C=l.children.indexOf(N))>=0&&l.children.splice(C,1);for(c in p("apply"),n=g,v)Object.prototype.hasOwnProperty.call(v,c)&&(t[c]=v[c]);var j=null;for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(l=L[c])){P=f[c];var H=[];for(s=0;s<P.length;s++)if(N=P[s],i=l.hot._acceptedDependencies[N]){if(-1!==H.indexOf(i))continue;H.push(i)}for(s=0;s<H.length;s++){i=H[s];try{i(P)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:c,dependencyId:P[s],error:t}),e.ignoreErrored||j||(j=t)}}}for(s=0;s<R.length;s++){var I=R[s];c=I.module,a=[c];try{z(c)}catch(t){if("function"==typeof I.errorHandler)try{I.errorHandler(t)}catch(i){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:i,originalError:t}),e.ignoreErrored||j||(j=i),j||(j=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:c,error:t}),e.ignoreErrored||j||(j=t)}}return j?(p("fail"),Promise.reject(j)):(p("idle"),new Promise(function(t){t(y)}))}var L={};function z(e){if(L[e])return L[e].exports;var i=L[e]={i:e,l:!1,exports:{},hot:d(e),parents:(l=a,a=[],l),children:[]};return t[e].call(i.exports,i,i.exports,c(e)),i.l=!0,i.exports}z.m=t,z.c=L,z.d=function(t,e,i){z.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},z.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},z.t=function(t,e){if(1&e&&(t=z(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(z.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)z.d(i,s,function(e){return t[e]}.bind(null,s));return i},z.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return z.d(e,"a",e),e},z.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},z.p="",z.h=function(){return n},c(1)(z.s=1)}([function(t){t.exports={a:{columns:[["x",15424128e5,15424992e5,15425856e5,1542672e6,15427584e5,15428448e5,15429312e5,15430176e5,1543104e6,15431904e5,15432768e5,15433632e5,15434496e5,1543536e6,15436224e5,15437088e5,15437952e5,15438816e5,1543968e6,15440544e5,15441408e5,15442272e5,15443136e5,15444e8,15444864e5,15445728e5,15446592e5,15447456e5,1544832e6,15449184e5,15450048e5,15450912e5,15451776e5,1545264e6,15453504e5,15454368e5,15455232e5,15456096e5,1545696e6,15457824e5,15458688e5,15459552e5,15460416e5,1546128e6,15462144e5,15463008e5,15463872e5,15464736e5,154656e7,15466464e5,15467328e5,15468192e5,15469056e5,1546992e6,15470784e5,15471648e5,15472512e5,15473376e5,1547424e6,15475104e5,15475968e5,15476832e5,15477696e5,1547856e6,15479424e5,15480288e5,15481152e5,15482016e5,1548288e6,15483744e5,15484608e5,15485472e5,15486336e5,154872e7,15488064e5,15488928e5,15489792e5,15490656e5,1549152e6,15492384e5,15493248e5,15494112e5,15494976e5,1549584e6,15496704e5,15497568e5,15498432e5,15499296e5,1550016e6,15501024e5,15501888e5,15502752e5,15503616e5,1550448e6,15505344e5,15506208e5,15507072e5,15507936e5,155088e7,15509664e5,15510528e5,15511392e5,15512256e5,1551312e6,15513984e5,15514848e5,15515712e5,15516576e5,1551744e6,15518304e5,15519168e5,15520032e5],["y0",37,20,32,39,32,35,19,65,36,62,113,69,120,60,51,49,71,122,149,69,57,21,33,55,92,62,47,50,56,116,63,60,55,65,76,33,45,64,54,81,180,123,106,37,60,70,46,68,46,51,33,57,75,70,95,70,50,68,63,66,53,38,52,109,121,53,36,71,96,55,58,29,31,55,52,44,126,191,73,87,255,278,219,170,129,125,126,84,65,53,154,57,71,64,75,72,39,47,52,73,89,156,86,105,88,45,33,56,142,124,114,64],["y1",22,12,30,40,33,23,18,41,45,69,57,61,70,47,31,34,40,55,27,57,48,32,40,49,54,49,34,51,51,51,66,51,94,60,64,28,44,96,49,73,30,88,63,42,56,67,52,67,35,61,40,55,63,61,105,59,51,76,63,57,47,56,51,98,103,62,54,104,48,41,41,37,30,28,26,37,65,86,70,81,54,74,70,50,74,79,85,62,36,46,68,43,66,50,28,66,39,23,63,74,83,66,40,60,29,36,27,54,89,50,73,52]],types:{y0:"line",y1:"line",x:"x"},names:{y0:"#0",y1:"#1"},colors:{y0:"#3DC23F",y1:"#F34C44"}}}},function(t,e,i){"use strict";i.r(e);var s=i(0);class n{constructor(t){this.chart=t,this.min=t.data.min,this.max=t.data.max,this.svg=document.querySelector("#zoom"),this.draggable=null,this.mask=null,this.resizingLeft=!1,this.resizeLeftOffset=0,this.resizingRight=!1,this.resizeRightOffset=0,this.dragging=!1,this.offset=0,this.position=0,this.resizePosition=0,this.originalWidth=200,this.width=200}get draggableWidth(){return this.width}get draggablePosition(){return this.position}get scaleX(){return this.width/this.originalWidth}create(){const t=document.createElementNS("http://www.w3.org/2000/svg","rect");t.style.strokeWidth="12px",t.style.vectorEffect="non-scaling-stroke",t.setAttribute("width",this.draggableWidth);const e=this.max-this.min,i=e/this.svg.getBoundingClientRect().height*6;t.setAttribute("height",e+i),t.setAttribute("y",this.min-i/2),t.setAttribute("x",0),t.setAttributeNS(null,"transform","matrix(1, 0, 0, 1, 0, 0)"),this.draggable=t,this.draggable.style.stroke="rgba(0,141,242,0.1)",this.mask=t.cloneNode(),this.mask.style.stroke="black",this.mask.style.fill="black",this.svg.addEventListener("mousedown",this.start.bind(this)),document.addEventListener("mousemove",this.mousemove.bind(this)),document.addEventListener("mouseup",this.end.bind(this)),document.querySelector("#mask").appendChild(this.mask),t.style.fill="transparent",this.svg.appendChild(t),this.chart.move(this.position,this.width)}start(t){this.offset=this.getCoordinates(t)-this.position,this.offset<5&&this.offset>-6?(this.resizingLeft=!0,this.resizeLeftOffset=this.offset,this.resizePosition=this.position):this.offset>this.width-5&&this.offset<this.width+6?(this.resizeRightOffset=this.width-this.offset,this.resizingRight=!0):this.offset>0&&this.offset<this.width&&(this.dragging=!0)}mousemove(t){this.resizingLeft?this.resizeLeft(t):this.resizingRight?this.resizeRight(t):this.dragging&&this.drag(t)}resizeLeft(t){const e=this.getCoordinates(t)-this.position;let i=this.getCoordinates(t)-this.resizeLeftOffset,s=this.offset-e;i<0&&(s=this.resizePosition>0?this.resizePosition:0,i=0),i>0&&0===this.resizePosition&&(s=-i),this.width+s<=30&&(this.width>30?(s=30-this.width,i=this.resizePosition-s):(s=0,i=this.resizePosition)),i>this.resizePosition&&s>0&&(i=this.resizePosition,s=0),i<this.resizePosition&&s>0&&30===this.width&&(s=this.resizePosition-i),this.resizePosition=i,this.width+=s,this.offset=e,this.draggable.setAttributeNS(null,"transform",`matrix(${this.scaleX}, 0, 0, 1, ${this.resizePosition}, 0)`),this.mask.setAttributeNS(null,"transform",`matrix(${this.scaleX}, 0, 0, 1, ${this.resizePosition}, 0)`),this.chart.move(i,this.width)}resizeRight(t){let e=this.getCoordinates(t)-this.position;e+this.resizeRightOffset<30&&(e=30-this.resizeRightOffset),this.position+e+this.resizeRightOffset>1110&&(e=1110-this.position-this.resizeRightOffset);const i=e-this.offset;this.offset=e,this.width+=i,this.draggable.setAttributeNS(null,"transform",`matrix(${this.scaleX}, 0, 0, 1, ${this.draggablePosition}, 0)`),this.mask.setAttributeNS(null,"transform",`matrix(${this.scaleX}, 0, 0, 1, ${this.draggablePosition}, 0)`),this.chart.move(this.position,this.width)}drag(t){if(this.dragging){const e=this.getCoordinates(t)-this.offset;this.move(e)}}end(t){this.resizingLeft&&(this.position=this.resizePosition),this.resizingLeft=!1,this.resizingRight=!1,this.dragging=!1}move(t){t=Math.max(0,t),t=Math.min(1110-this.width,t),this.position=t,this.draggable.setAttributeNS(null,"transform",`matrix(${this.scaleX}, 0, 0, 1, ${t}, 0)`),this.mask.setAttributeNS(null,"transform",`matrix(${this.scaleX}, 0, 0, 1, ${t}, 0)`),this.chart.move(this.position,this.width)}getCoordinates(t){const e=this.svg.getScreenCTM();return(t.clientX-e.e)/e.a}}const o=(t,e)=>{let i;return function(){clearTimeout(i),i=setTimeout(()=>t.apply(this,arguments),e)}};function r(t){const e=new Date(t);return`${e.toLocaleString("en-us",{month:"short"})} ${e.getDate()}`}function a(t,e,i){const s=t*e,n=document.createElementNS("http://www.w3.org/2000/svg","g");n.classList.add("tick",`tick${i}`);const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",10),o.setAttribute("x2",990),o.setAttribute("y1",s*(6-i)),o.setAttribute("y2",s*(6-i));const r=document.createElementNS("http://www.w3.org/2000/svg","text");return r.classList.add("tick-text",`tick-text${i}`),r.setAttribute("x",10),r.setAttribute("y",s*(6-i)-55),r.textContent=t*i,n.appendChild(o),{tick:n,text:r}}new class{constructor(t){this.data=this.prepareData(t),this.svg=document.querySelector("#main"),this.xScale=document.querySelector("#xscale"),this.zoom=new n(this),this.start=this.start.bind(this),this.mousemove=this.mousemove.bind(this),this.end=this.end.bind(this),this.toggle=this.toggle.bind(this),this.setHeight=o(this.setHeight,100),this.position=0,this.width=200,this.yRatio=1,this.lineHeight=this.data.max/5.5,this.hidden=[]}get xRatio(){return 10*this.data.dates.length/this.width}get max(){return 5.5*this.lineHeight}get matrix(){return[this.xRatio,0,0,1,-this.position*this.xRatio,0]}get rect(){return this.svg.getBoundingClientRect()}prepareData(t){let{columns:e,colors:i}=t,s={};const n=e.findIndex(t=>"x"===t[0]),o=e.splice(n,1)[0];let a=null,l=null,c=[];for(let t=1;t<o.length;t++)c.push(r(o[t])),e.map(e=>{s[e[0]]||(s[e[0]]=[]),a=Math.min(a,e[t]),l=Math.max(l,e[t]),s[e[0]].push(`${10*(t-1)},${e[t]}`)});return{columns:e,colors:i,points:s,min:a,max:l,dates:c,x:o}}move(t,e){this.position=t,this.width=e,document.querySelector(".plots").style.transform=`matrix(${this.matrix.join(", ")})`,this.moveXScale(),this.setHeight()}moveXScale(){let t=document.querySelector("#xscale-style");t||((t=document.createElement("style")).setAttribute("id","xscale-style"),document.head.appendChild(t));const e=10*this.data.dates.length/this.width*this.rect.width,i=-this.position*(this.rect.width/this.width),s=Math.ceil(this.data.dates.length/(e/80));t.textContent=`\n      #xscale {\n        width: ${e}px;\n        left: ${i}px;\n      }\n      #xscale span:not(:nth-of-type(${s}n + 1)) {\n        opacity: 0;\n      }\n    `}setHeight(){const t=Math.ceil(this.position/10+1),e=Math.floor((this.position+this.width)/10+1);this.getYExtents(t,e);const i=this.rect.height/this.max;if(this.yRatio===i)return;const s=this.yRatio<i;this.yRatio=i;const n=document.querySelectorAll("#main .plots polyline");for(let t=0;t<n.length;t++)n[t].style.transform=`scale(1, ${this.yRatio})`;this.updateTicks(s)}updateTicks(t){const e=document.querySelector(".ticks"),i=document.querySelector(".tick-texts");for(let s=5;s>=1;s--){const n=document.querySelector(`.tick${s}`),o=document.querySelector(`.tick-text${s}`);let{top:r}=n.getBoundingClientRect();const l=s*(this.rect.height-r)/this.yRatio,c=(s-6)*(this.rect.height-r)/this.yRatio,{tick:d,text:h}=a(this.lineHeight,this.yRatio,s);d.classList.add("enter"),h.classList.add("enter"),t?(n.classList.add("old"),o.classList.add("old"),n.setAttributeNS(null,"transform",`translate(0,${l})`),o.setAttributeNS(null,"transform",`translate(0,${l}) scale(1,-1)`),d.setAttributeNS(null,"transform",`translate(0,${c})`),h.setAttributeNS(null,"transform",`translate(0,${c}) scale(1,-1)`)):(n.classList.add("old"),o.classList.add("old"),n.setAttributeNS(null,"transform",`translate(0,${c})`),o.setAttributeNS(null,"transform",`translate(0,${c}) scale(1,-1)`),d.setAttributeNS(null,"transform",`translate(0,${l})`),h.setAttributeNS(null,"transform",`translate(0,${l}) scale(1,-1)`)),e.appendChild(d),i.appendChild(h),setTimeout(()=>{d.setAttributeNS(null,"transform","translate(0,0)"),h.setAttributeNS(null,"transform","translate(0,0) scale(1,-1)")},0),setTimeout(()=>{d.classList.remove("enter"),h.classList.remove("enter")},333)}setTimeout(()=>{const t=document.querySelectorAll(".old");for(let e=0;e<t.length;e++)t[e].remove()})}getYExtents(t,e){let i=[],s=[];this.data.columns.map((n,o)=>{if(-1===this.hidden.indexOf(n[0])){const o=n.slice(t,e);i.push(Math.min.apply(null,o)),s.push(Math.max.apply(null,o))}}),Math.min.apply(null,i);let n=Math.max.apply(null,s),o=n%5,r=(n-o)/5;for(o<Math.floor(r/2)&&5.5*(r-1)>n&&r--;o>r/2;)r++;this.lineHeight=r}drawXScale(){this.xScale.style.position="absolute",this.xScale.style.height="50px";const t=100/this.data.dates.length;this.data.dates.map((e,i)=>{const s=document.createElement("span");s.textContent=e,s.style.position="absolute",s.style.left=i*t+"%",this.xScale.appendChild(s),s.style.transform="none"})}start(t){const e=function(t){const e=document.createElementNS("http://www.w3.org/2000/svg","line");return e.classList.add("tooltip-line"),e.setAttribute("y1",0),e.setAttribute("y2",t),e}(this.rect.height),i=function(t){const e=document.createElementNS("http://www.w3.org/2000/svg","g");e.classList.add("tooltip");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttributeNS(null,"d","M11,0 h100 a10,10 0 0 1 10,10 v60 a10,10 0 0 1 -10,10 h-100 a10,10 0 0 1 -10,-10 v-60 a10,10 0 0 1 10,-10 z"),i.classList.add("container");const s=document.createElementNS("http://www.w3.org/2000/svg","text");return s.setAttribute("x",15),s.setAttribute("y",20),s.classList.add("date"),e.appendChild(i),e.appendChild(s),t.columns.map((i,s)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("x",15+50*s),n.style.fill=t.colors[i[0]];const o=n.cloneNode();n.classList.add("label"),n.setAttribute("y",65),n.textContent=i[0],o.setAttribute("y",47),o.classList.add("value",`value-${i[0]}`),e.appendChild(n),e.appendChild(o)}),e}(this.data);this.svg.appendChild(e),this.svg.appendChild(i),this.data.columns.map(t=>{const e=function(t,e){const i=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.style.stroke=e,i.classList.add(t,"marker"),i.setAttributeNS(null,"r","5px"),i}(t[0],this.data.colors[t[0]]);this.svg.appendChild(e)}),this.mousemove(t)}mousemove(t){const e=this.getCoordinates(t);let i=Math.round((e/this.xRatio+this.position)/10);this.position,this.xRatio,Math.round(e/(10*this.xRatio)),this.xRatio;const s=document.querySelector(".tooltip-line");s.setAttribute("x1",(10*i-this.position)*this.xRatio),s.setAttribute("x2",(10*i-this.position)*this.xRatio);const n=document.querySelector(".tooltip");let o=Math.max(0,(10*i-this.position)*this.xRatio-20);o=Math.min(o,this.rect.width-122),n.setAttribute("transform",`translate(${o}, 0) scale(1,-1)`),document.querySelector(".tooltip .date").textContent=new Date(this.data.x[i+1]).toLocaleDateString("en-us",{weekday:"short",day:"numeric",month:"short"}),this.data.columns.map(t=>{const e=document.querySelector(`.marker.${t[0]}`);if(document.querySelector(`.value-${t[0]}`).textContent=t[i+1],!e)return;const s=this.data.points[t[0]][i].split(",")[0],n=this.data.points[t[0]][i].split(",")[1];e.setAttributeNS(null,"cx",s*this.xRatio-this.position*this.xRatio),e.setAttributeNS(null,"cy",n*this.yRatio),this.svg.insertBefore(e,document.querySelector(".tooltip"))})}end(){const t=document.querySelector(".tooltip-line"),e=document.querySelector(".tooltip");t.remove(),e.remove(),this.data.columns.map(t=>{const e=document.querySelector(`circle.${t[0]}`);e&&e.remove()})}toggle(t){const{value:e}=t.target;this.hidden.find(t=>t===e)?(this.hidden.splice(this.hidden.indexOf(e),1),document.querySelector(`polyline.${e}`).style.opacity=1,t.target.classList.remove("active")):(this.hidden.push(e),document.querySelector(`polyline.${e}`).style.opacity=0,t.target.classList.add("active")),this.hidden.length<this.data.columns.length&&this.setHeight()}init(){this.svg.addEventListener("mouseenter",this.start),this.svg.addEventListener("mousemove",this.mousemove),this.svg.addEventListener("mouseleave",this.end),this.zoom.svg.setAttribute("viewBox",`0 ${this.data.min} ${10*(this.data.dates.length-1)} ${this.data.max-this.data.min}`),this.drawXScale();const t=function(t){const e=document.createElementNS("http://www.w3.org/2000/svg","g");e.classList.add("plots");for(let i in t.points){const s=document.createElementNS("http://www.w3.org/2000/svg","polyline");s.classList.add(i),s.setAttribute("points",t.points[i].join(" ")),s.style.stroke=t.colors[i],s.setAttribute("stroke-linejoin","round"),e.appendChild(s)}return e}(this.data),e=t.cloneNode(!0);this.zoom.svg.insertBefore(e,document.querySelector("#bg")),this.svg.insertBefore(t,document.querySelector(".tick-texts")),this.zoom.create(),this.data.columns.map(t=>{const e=function(t,e){const i=document.createElement("button");i.classList.add("toggle"),i.setAttribute("type","button"),i.setAttribute("value",t);const s=document.createElement("span");s.classList.add("icon"),s.style.background=e,i.appendChild(s);const n=document.createElement("span");return n.textContent=t,i.appendChild(n),i}(t[0],this.data.colors[t[0]]);e.addEventListener("click",this.toggle),document.querySelector("#buttons").appendChild(e)})}getCoordinates(t){const e=this.svg.getScreenCTM();return(t.clientX-e.e)/e.a}}(s.a).init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3pvb20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VsZW1lbnRDcmVhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ3aW5kb3ciLCJjaHVua0lkIiwibW9yZU1vZHVsZXMiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwibW9kdWxlSWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJob3RVcGRhdGUiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RDaHVua3NMb2FkaW5nIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdEFkZFVwZGF0ZUNodW5rIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdEN1cnJlbnRIYXNoIiwiaG90UmVxdWVzdFRpbWVvdXQiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsImhvdEN1cnJlbnRQYXJlbnRzIiwiaG90Q3VycmVudFBhcmVudHNUZW1wIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJmbiIsInJlcXVlc3QiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwiT2JqZWN0RmFjdG9yeSIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImUiLCJob3RTdGF0dXMiLCJob3RTZXRTdGF0dXMiLCJ0aGVuIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiZXJyIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJ0IiwibW9kZSIsImhvdENyZWF0ZU1vZHVsZSIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwiX2Rpc3Bvc2VIYW5kbGVycyIsIl9tYWluIiwiYWNjZXB0IiwiZGVwIiwiY2FsbGJhY2siLCJ1bmRlZmluZWQiLCJpIiwibGVuZ3RoIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4Iiwic3BsaWNlIiwiY2hlY2siLCJob3RDaGVjayIsImFwcGx5IiwiaG90QXBwbHkiLCJzdGF0dXMiLCJsIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJuZXdTdGF0dXMiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZU5ld0hhc2giLCJ0b01vZHVsZUlkIiwiaWQiLCJFcnJvciIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3RQYXRoIiwicCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJjIiwiaCIsInByb21pc2UiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImRlZmVycmVkIiwicmVzdWx0Iiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImNiIiwiaiIsIm1vZHVsZSIsImdldEFmZmVjdGVkU3R1ZmYiLCJ1cGRhdGVNb2R1bGVJZCIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwidHlwZSIsInBhcmVudElkIiwicGFyZW50IiwiY29uY2F0IiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJpbnN0YWxsZWRDaHVua3MiLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkaXNwb3NlSGFuZGxlcnMiLCJjaGlsZCIsIm1vZHVsZXMiLCJlcnJvciIsImNhbGxiYWNrcyIsIm9uRXJyb3JlZCIsImRlcGVuZGVuY3lJZCIsImlnbm9yZUVycm9yZWQiLCJlcnIyIiwib3JpZ2luYWxFcnJvciIsImV4cG9ydHMiLCJtIiwiZCIsImdldHRlciIsIm8iLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsIlpvb20iLCJjb25zdHJ1Y3RvciIsImNoYXJ0IiwidGhpcyIsIm1pbiIsIm1heCIsInN2ZyIsInF1ZXJ5U2VsZWN0b3IiLCJkcmFnZ2FibGUiLCJtYXNrIiwicmVzaXppbmdMZWZ0IiwicmVzaXplTGVmdE9mZnNldCIsInJlc2l6aW5nUmlnaHQiLCJyZXNpemVSaWdodE9mZnNldCIsImRyYWdnaW5nIiwib2Zmc2V0IiwicG9zaXRpb24iLCJyZXNpemVQb3NpdGlvbiIsIm9yaWdpbmFsV2lkdGgiLCJ3aWR0aCIsImRyYWdnYWJsZVdpZHRoIiwiZHJhZ2dhYmxlUG9zaXRpb24iLCJzY2FsZVgiLCJlbCIsImNyZWF0ZUVsZW1lbnROUyIsInN0eWxlIiwic3Ryb2tlV2lkdGgiLCJ2ZWN0b3JFZmZlY3QiLCJzZXRBdHRyaWJ1dGUiLCJoZWlnaHQiLCJzdHJva2VPZmZzZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzZXRBdHRyaWJ1dGVOUyIsInN0cm9rZSIsImNsb25lTm9kZSIsImZpbGwiLCJhZGRFdmVudExpc3RlbmVyIiwic3RhcnQiLCJtb3VzZW1vdmUiLCJlbmQiLCJtb3ZlIiwiZ2V0Q29vcmRpbmF0ZXMiLCJyZXNpemVMZWZ0IiwicmVzaXplUmlnaHQiLCJkcmFnIiwiYW1vdW50IiwiTWF0aCIsImN0bSIsImdldFNjcmVlbkNUTSIsImNsaWVudFgiLCJkZWJvdW5jZSIsImYiLCJkZWxheSIsIndyYXBwZXIiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYXJndW1lbnRzIiwiZm9ybWF0RGF0ZSIsInRpbWVzdGFtcCIsImRhdGUiLCJEYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJtb250aCIsImdldERhdGUiLCJjcmVhdGVUaWNrIiwibGluZUhlaWdodCIsInJhdGlvIiwidGljayIsImNsYXNzTGlzdCIsImFkZCIsImxpbmUiLCJ0ZXh0IiwidGV4dENvbnRlbnQiLCJwcmVwYXJlRGF0YSIsInhTY2FsZSIsInpvb20iLCJ0b2dnbGUiLCJzZXRIZWlnaHQiLCJ5UmF0aW8iLCJoaWRkZW4iLCJ4UmF0aW8iLCJkYXRlcyIsIm1hdHJpeCIsInJlY3QiLCJjb2x1bW5zIiwiY29sb3JzIiwicG9pbnRzIiwieEluZGV4IiwiZmluZEluZGV4IiwieCIsImNvbCIsInRyYW5zZm9ybSIsIm1vdmVYU2NhbGUiLCJsZWZ0IiwiY2VpbCIsInJpZ2h0IiwiZmxvb3IiLCJnZXRZRXh0ZW50cyIsInN0cmV0Y2giLCJwb2x5bGluZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidXBkYXRlVGlja3MiLCJjb250YWluZXIiLCJ0ZXh0Q29udGFpbmVyIiwib2xkIiwib2xkVGV4dCIsInRvcCIsInN0cmV0Y2hlZCIsInNocmlua2VkIiwicmVtb3ZlIiwiYXJyYXkiLCJtaW5Db2wiLCJtYXhDb2wiLCJtb2R1bG8iLCJkcmF3WFNjYWxlIiwiY3JlYXRlVG9vbHRpcExpbmUiLCJ0b29sdGlwIiwiZyIsImxhYmVsIiwiY3JlYXRlVG9vbHRpcCIsIm1hcmtlciIsImNvbG9yIiwiY2lyY2xlIiwiY3JlYXRlTWFya2VyIiwiY29vcmRpbmF0ZSIsInBvaW50Iiwicm91bmQiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwiZGF5IiwiY3giLCJzcGxpdCIsImN5IiwiaW5zZXJ0QmVmb3JlIiwidGFyZ2V0IiwiZmluZCIsIm9wYWNpdHkiLCJpbml0IiwicGxvdHMiLCJwb2x5bGluZSIsImNyZWF0ZVBsb3RzIiwiem9vbVBsb3RzIiwiYnV0dG9uIiwiaWNvbiIsImJhY2tncm91bmQiLCJ0eHQiLCJjcmVhdGVCdXR0b24iLCJjaGFydF9kYXRhIl0sIm1hcHBpbmdzIjoiYUFHQSxJQUFBQSxFQUFBQyxPQUFBLGlCQUNBQSxPQUFBLGlCQUNBLFNBQUFDLEVBQUFDLElBZ1JBLFNBQUFELEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUYsS0FBQUcsRUFBQUgsR0FDQSxPQUVBLFFBQUFJLEtBREFELEVBQUFILElBQUEsRUFDQUMsRUFDQUksT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVAsRUFBQUcsS0FDQUssRUFBQUwsR0FBQUgsRUFBQUcsSUFHQSxLQUFBTSxHQUFBLElBQUFDLEdBQ0FDLElBelJBQyxDQUFBYixFQUFBQyxHQUNBSCxLQUFBRSxFQUFBQyxJQXVEQSxJQUtBYSxFQUxBQyxHQUFBLEVBRUFDLEVBQUEsdUJBQ0FDLEVBQUEsSUFDQUMsRUFBQSxHQUdBQyxFQUFBLEdBRUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBakIsR0FDQSxJQUFBa0IsRUFBQUMsRUFBQW5CLEdBQ0EsSUFBQWtCLEVBQUEsT0FB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RUFBSXpFLFlBQWNELEVBQ2xCdUUsRUFBT3hOLFlBQVkyTixHQUNaSCxFQytMWUksQ0FBYXhELEVBQUksR0FBSXZGLEtBQUs3RyxLQUFLK0wsT0FBT0ssRUFBSSxLQUN6RG9ELEVBQU8xRyxpQkFBaUIsUUFBU2pDLEtBQUt5RSxRQUN0QzNKLFNBQVNzRixjQUFjLFlBQVlqRixZQUFZd04sS0FJbkRyRyxlQUFlekwsR0FDYixNQUFNK0wsRUFBTTVDLEtBQUtHLElBQUkwQyxlQUNyQixPQUFRaE0sRUFBRWlNLFFBQVVGLEVBQUkvTCxHQUFLK0wsRUFBSWxHLElBSWJzTSxLQUNsQlYiLCJmaWxlIjoiYXBwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHR9IDtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xuIFx0XHRpZiAobnVsbCkgc2NyaXB0LmNyb3NzT3JpZ2luID0gbnVsbDtcbiBcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcbiBcdFx0XHR9XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4gXHRcdFx0XHRcdHJlamVjdChcbiBcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpXG4gXHRcdFx0XHRcdCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjNhZTJkZjIyYjM0N2FiM2VhOWRlXCI7XG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRpZiAoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuIFx0XHRcdGlmIChtZS5ob3QuYWN0aXZlKSB7XG4gXHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xuIFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgK1xuIFx0XHRcdFx0XHRcdHJlcXVlc3QgK1xuIFx0XHRcdFx0XHRcdFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdCk7XG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcbiBcdFx0fTtcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xuIFx0XHRcdFx0fSxcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH07XG4gXHRcdGZvciAodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJlXCIgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwidFwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRmbi50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0XHRpZiAobW9kZSAmIDEpIHZhbHVlID0gZm4odmFsdWUpO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnQodmFsdWUsIG1vZGUgJiB+MSk7XG4gXHRcdH07XG4gXHRcdHJldHVybiBmbjtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIGhvdCA9IHtcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHR9XG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xuIFx0XHRcdGlmICghdXBkYXRlKSB7XG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdClcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgxKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImltcG9ydCB7Z2V0VHJhbnNsYXRlWH0gZnJvbSAnLi91dGlsJ1xyXG5cclxuZXhwb3J0IGNsYXNzIFpvb20ge1xyXG4gIGNvbnN0cnVjdG9yKGNoYXJ0KSB7XHJcbiAgICB0aGlzLmNoYXJ0ID0gY2hhcnRcclxuICAgIHRoaXMubWluID0gY2hhcnQuZGF0YS5taW5cclxuICAgIHRoaXMubWF4ID0gY2hhcnQuZGF0YS5tYXhcclxuICAgIHRoaXMuc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3pvb20nKVxyXG5cclxuICAgIHRoaXMuZHJhZ2dhYmxlID0gbnVsbFxyXG4gICAgdGhpcy5tYXNrID0gbnVsbFxyXG4gICAgdGhpcy5yZXNpemluZ0xlZnQgPSBmYWxzZVxyXG4gICAgdGhpcy5yZXNpemVMZWZ0T2Zmc2V0ID0gMFxyXG4gICAgdGhpcy5yZXNpemluZ1JpZ2h0ID0gZmFsc2VcclxuICAgIHRoaXMucmVzaXplUmlnaHRPZmZzZXQgPSAwXHJcbiAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2VcclxuICAgIHRoaXMub2Zmc2V0ID0gMFxyXG4gICAgdGhpcy5wb3NpdGlvbiA9IDBcclxuICAgIHRoaXMucmVzaXplUG9zaXRpb24gPSAwXHJcbiAgICB0aGlzLm9yaWdpbmFsV2lkdGggPSAyMDBcclxuICAgIHRoaXMud2lkdGggPSAyMDBcclxuICB9XHJcblxyXG4gIGdldCBkcmFnZ2FibGVXaWR0aCgpIHtcclxuICAgIHJldHVybiB0aGlzLndpZHRoXHJcbiAgfVxyXG5cclxuICBnZXQgZHJhZ2dhYmxlUG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvblxyXG4gIH1cclxuXHJcbiAgZ2V0IHNjYWxlWCgpIHtcclxuICAgIHJldHVybiB0aGlzLndpZHRoL3RoaXMub3JpZ2luYWxXaWR0aFxyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3JlY3QnKVxyXG4gICAgZWwuc3R5bGUuc3Ryb2tlV2lkdGggPSAnMTJweCdcclxuICAgIGVsLnN0eWxlLnZlY3RvckVmZmVjdCA9ICdub24tc2NhbGluZy1zdHJva2UnXHJcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy5kcmFnZ2FibGVXaWR0aClcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMubWF4IC0gdGhpcy5taW5cclxuICAgIGNvbnN0IHN0cm9rZU9mZnNldCA9IGhlaWdodC90aGlzLnN2Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgKiA2XHJcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCArIHN0cm9rZU9mZnNldClcclxuICAgIGVsLnNldEF0dHJpYnV0ZSgneScsIHRoaXMubWluIC0gc3Ryb2tlT2Zmc2V0LzIpXHJcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3gnLCAwKVxyXG4gICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsICdtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCknKVxyXG4gICAgdGhpcy5kcmFnZ2FibGUgPSBlbFxyXG4gICAgdGhpcy5kcmFnZ2FibGUuc3R5bGUuc3Ryb2tlID0gJ3JnYmEoMCwxNDEsMjQyLDAuMSknXHJcbiAgICB0aGlzLm1hc2sgPSBlbC5jbG9uZU5vZGUoKVxyXG4gICAgdGhpcy5tYXNrLnN0eWxlLnN0cm9rZSA9ICdibGFjaydcclxuICAgIHRoaXMubWFzay5zdHlsZS5maWxsID0gJ2JsYWNrJ1xyXG5cclxuXHJcbiAgICB0aGlzLnN2Zy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLnN0YXJ0LmJpbmQodGhpcykpXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlbW92ZS5iaW5kKHRoaXMpKVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuZW5kLmJpbmQodGhpcykpXHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hc2snKS5hcHBlbmRDaGlsZCh0aGlzLm1hc2spXHJcbiAgICBlbC5zdHlsZS5maWxsID0gJ3RyYW5zcGFyZW50J1xyXG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQoZWwpXHJcbiAgICB0aGlzLmNoYXJ0Lm1vdmUodGhpcy5wb3NpdGlvbiwgdGhpcy53aWR0aClcclxuICB9XHJcblxyXG4gIHN0YXJ0KGUpIHtcclxuICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5nZXRDb29yZGluYXRlcyhlKSAtIHRoaXMucG9zaXRpb25cclxuICAgIGlmICh0aGlzLm9mZnNldCA8IDUgJiYgdGhpcy5vZmZzZXQgPiAtNikge1xyXG4gICAgICB0aGlzLnJlc2l6aW5nTGVmdCA9IHRydWVcclxuICAgICAgdGhpcy5yZXNpemVMZWZ0T2Zmc2V0ID0gdGhpcy5vZmZzZXRcclxuICAgICAgdGhpcy5yZXNpemVQb3NpdGlvbiA9IHRoaXMucG9zaXRpb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5vZmZzZXQgPiAodGhpcy53aWR0aCAtIDUpICYmIHRoaXMub2Zmc2V0IDwgdGhpcy53aWR0aCArIDYpIHtcclxuICAgICAgdGhpcy5yZXNpemVSaWdodE9mZnNldCA9IHRoaXMud2lkdGggLSB0aGlzLm9mZnNldFxyXG4gICAgICB0aGlzLnJlc2l6aW5nUmlnaHQgPSB0cnVlXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMub2Zmc2V0ID4gMCAmJiB0aGlzLm9mZnNldCA8IHRoaXMud2lkdGgpIHtcclxuICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1vdXNlbW92ZShlKSB7XHJcbiAgICBpZiAodGhpcy5yZXNpemluZ0xlZnQpIHtcclxuICAgICAgdGhpcy5yZXNpemVMZWZ0KGUpXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMucmVzaXppbmdSaWdodCkge1xyXG4gICAgICB0aGlzLnJlc2l6ZVJpZ2h0KGUpXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcclxuICAgICAgdGhpcy5kcmFnKGUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNpemVMZWZ0KGUpIHtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gdGhpcy5nZXRDb29yZGluYXRlcyhlKVxyXG4gICAgY29uc3Qgb2Zmc2V0ID0gY29vcmRpbmF0ZXMgLSB0aGlzLnBvc2l0aW9uXHJcbiAgICBsZXQgcG9zaXRpb24gPSB0aGlzLmdldENvb3JkaW5hdGVzKGUpIC0gdGhpcy5yZXNpemVMZWZ0T2Zmc2V0XHJcbiAgICBsZXQgYW1vdW50ID0gdGhpcy5vZmZzZXQgLSBvZmZzZXRcclxuICAgIGlmIChwb3NpdGlvbiA8IDApIHtcclxuICAgICAgaWYgKHRoaXMucmVzaXplUG9zaXRpb24gPiAwKSB7XHJcbiAgICAgICAgYW1vdW50ID0gdGhpcy5yZXNpemVQb3NpdGlvblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFtb3VudCA9IDBcclxuICAgICAgfVxyXG4gICAgICBwb3NpdGlvbiA9IDBcclxuICAgIH1cclxuICAgIGlmIChwb3NpdGlvbiA+IDAgJiYgdGhpcy5yZXNpemVQb3NpdGlvbiA9PT0gMCkge1xyXG4gICAgICBhbW91bnQgPSAtcG9zaXRpb25cclxuICAgIH1cclxuICAgIGlmICh0aGlzLndpZHRoICsgYW1vdW50IDw9IDMwKSB7XHJcbiAgICAgIGlmICh0aGlzLndpZHRoID4gMzApIHtcclxuICAgICAgICBhbW91bnQgPSAzMCAtIHRoaXMud2lkdGhcclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMucmVzaXplUG9zaXRpb24gLSBhbW91bnRcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhbW91bnQgPSAwXHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLnJlc2l6ZVBvc2l0aW9uXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwb3NpdGlvbiA+IHRoaXMucmVzaXplUG9zaXRpb24gJiYgYW1vdW50ID4gMCkge1xyXG4gICAgICBwb3NpdGlvbiA9IHRoaXMucmVzaXplUG9zaXRpb25cclxuICAgICAgYW1vdW50ID0gMFxyXG4gICAgfVxyXG4gICAgaWYgKHBvc2l0aW9uIDwgdGhpcy5yZXNpemVQb3NpdGlvbiAmJiBhbW91bnQgPiAwICYmIHRoaXMud2lkdGggPT09IDMwKSB7XHJcbiAgICAgIGFtb3VudCA9IHRoaXMucmVzaXplUG9zaXRpb24gLSBwb3NpdGlvblxyXG4gICAgfVxyXG4gICAgdGhpcy5yZXNpemVQb3NpdGlvbiA9IHBvc2l0aW9uXHJcbiAgICB0aGlzLndpZHRoICs9IGFtb3VudFxyXG4gICAgdGhpcy5vZmZzZXQgPSBvZmZzZXRcclxuICAgIHRoaXMuZHJhZ2dhYmxlLnNldEF0dHJpYnV0ZU5TKG51bGwsICd0cmFuc2Zvcm0nLCBgbWF0cml4KCR7dGhpcy5zY2FsZVh9LCAwLCAwLCAxLCAke3RoaXMucmVzaXplUG9zaXRpb259LCAwKWApXHJcbiAgICB0aGlzLm1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsIGBtYXRyaXgoJHt0aGlzLnNjYWxlWH0sIDAsIDAsIDEsICR7dGhpcy5yZXNpemVQb3NpdGlvbn0sIDApYClcclxuICAgIHRoaXMuY2hhcnQubW92ZShwb3NpdGlvbiwgdGhpcy53aWR0aClcclxuICB9XHJcblxyXG4gIHJlc2l6ZVJpZ2h0KGUpIHtcclxuICAgIGxldCBvZmZzZXQgPSB0aGlzLmdldENvb3JkaW5hdGVzKGUpIC0gdGhpcy5wb3NpdGlvblxyXG4gICAgaWYgKG9mZnNldCArIHRoaXMucmVzaXplUmlnaHRPZmZzZXQgPCAzMCkge1xyXG4gICAgICBvZmZzZXQgPSAzMCAtIHRoaXMucmVzaXplUmlnaHRPZmZzZXRcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnBvc2l0aW9uICsgb2Zmc2V0ICsgdGhpcy5yZXNpemVSaWdodE9mZnNldCA+IDExMTApIHtcclxuICAgICAgb2Zmc2V0ID0gMTExMCAtIHRoaXMucG9zaXRpb24gLSB0aGlzLnJlc2l6ZVJpZ2h0T2Zmc2V0XHJcbiAgICB9XHJcbiAgICBjb25zdCBhbW91bnQgPSBvZmZzZXQgLSB0aGlzLm9mZnNldFxyXG4gICAgdGhpcy5vZmZzZXQgPSBvZmZzZXRcclxuICAgIHRoaXMud2lkdGggKz0gYW1vdW50XHJcbiAgICB0aGlzLmRyYWdnYWJsZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndHJhbnNmb3JtJywgYG1hdHJpeCgke3RoaXMuc2NhbGVYfSwgMCwgMCwgMSwgJHt0aGlzLmRyYWdnYWJsZVBvc2l0aW9ufSwgMClgKVxyXG4gICAgdGhpcy5tYXNrLnNldEF0dHJpYnV0ZU5TKG51bGwsICd0cmFuc2Zvcm0nLCBgbWF0cml4KCR7dGhpcy5zY2FsZVh9LCAwLCAwLCAxLCAke3RoaXMuZHJhZ2dhYmxlUG9zaXRpb259LCAwKWApXHJcbiAgICB0aGlzLmNoYXJ0Lm1vdmUodGhpcy5wb3NpdGlvbiwgdGhpcy53aWR0aClcclxuICB9XHJcblxyXG4gIGRyYWcoZSkge1xyXG4gICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcclxuICAgICAgY29uc3QgcG9zaXRpb24gPSAodGhpcy5nZXRDb29yZGluYXRlcyhlKSAtIHRoaXMub2Zmc2V0KVxyXG4gICAgICB0aGlzLm1vdmUocG9zaXRpb24pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbmQoZSkge1xyXG4gICAgaWYgKHRoaXMucmVzaXppbmdMZWZ0KSB7XHJcbiAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLnJlc2l6ZVBvc2l0aW9uXHJcbiAgICB9XHJcbiAgICB0aGlzLnJlc2l6aW5nTGVmdCA9IGZhbHNlXHJcbiAgICB0aGlzLnJlc2l6aW5nUmlnaHQgPSBmYWxzZVxyXG4gICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlXHJcbiAgfVxyXG5cclxuICBtb3ZlKHBvc2l0aW9uKSB7XHJcbiAgICBwb3NpdGlvbiA9IE1hdGgubWF4KDAsIHBvc2l0aW9uKVxyXG4gICAgcG9zaXRpb24gPSBNYXRoLm1pbigxMTEwIC0gdGhpcy53aWR0aCwgcG9zaXRpb24pXHJcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb25cclxuICAgIHRoaXMuZHJhZ2dhYmxlLnNldEF0dHJpYnV0ZU5TKG51bGwsICd0cmFuc2Zvcm0nLCBgbWF0cml4KCR7dGhpcy5zY2FsZVh9LCAwLCAwLCAxLCAke3Bvc2l0aW9ufSwgMClgKVxyXG4gICAgdGhpcy5tYXNrLnNldEF0dHJpYnV0ZU5TKG51bGwsICd0cmFuc2Zvcm0nLCBgbWF0cml4KCR7dGhpcy5zY2FsZVh9LCAwLCAwLCAxLCAke3Bvc2l0aW9ufSwgMClgKVxyXG4gICAgdGhpcy5jaGFydC5tb3ZlKHRoaXMucG9zaXRpb24sIHRoaXMud2lkdGgpXHJcbiAgfVxyXG5cclxuICBnZXRDb29yZGluYXRlcyhlKSB7XHJcbiAgICBjb25zdCBjdG0gPSB0aGlzLnN2Zy5nZXRTY3JlZW5DVE0oKVxyXG4gICAgcmV0dXJuIChlLmNsaWVudFggLSBjdG0uZSkgLyBjdG0uYVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgZGVib3VuY2UgPSAoZiwgZGVsYXkpID0+IHtcclxuICBsZXQgd3JhcHBlclxyXG4gIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgIGNsZWFyVGltZW91dCh3cmFwcGVyKVxyXG4gICAgd3JhcHBlciA9IHNldFRpbWVvdXQoKCkgPT4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBkZWxheSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB0aHJvdHRsZSA9IChmLCBkZWxheSkgPT4ge1xyXG4gIGxldCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpXHJcbiAgbGV0IHdyYXBwZXJcclxuICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCB0ID0gcGVyZm9ybWFuY2Uubm93KClcclxuXHJcbiAgICBjbGVhclRpbWVvdXQod3JhcHBlcilcclxuICAgIGlmICh0ID49IHN0YXJ0ICsgZGVsYXkpIHtcclxuICAgICAgc3RhcnQgPSB0XHJcbiAgICAgIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd3JhcHBlciA9IHNldFRpbWVvdXQoKCkgPT4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBzdGFydCArIGRlbGF5IC0gdClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbmltYXRlKGZyb20sIHRvLCBmLCBkdXJhdGlvbiwgdGFyZ2V0KSB7XHJcbiAgY29uc3QgYW10ID0gdG8gLSBmcm9tXHJcbiAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKVxyXG4gIGNvbnN0IGRyYXcgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB0aW1lID0gcGVyZm9ybWFuY2Uubm93KClcclxuICAgIGNvbnN0IHBhc3NlZCA9IE1hdGgubWluKGR1cmF0aW9uLCB0aW1lIC0gc3RhcnQpXHJcbiAgICBmKGZyb20sIHBhc3NlZC9kdXJhdGlvbiwgYW10LCB0YXJnZXQpXHJcbiAgICBpZiAocGFzc2VkIDwgZHVyYXRpb24pIHtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVUZXh0KHgsIHkpIHtcclxuICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50aWNrIHRleHQnKVxyXG4gIGZvciAobGV0IGk9MDsgaTwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGVsZW1lbnRzW2ldLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3h9LCAke3l9KWBcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRlKHRpbWVzdGFtcCkge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApXHJcbiAgY29uc3QgbW9udGggPSBkYXRlLnRvTG9jYWxlU3RyaW5nKCdlbi11cycsIHttb250aDogJ3Nob3J0J30pXHJcbiAgcmV0dXJuIGAke21vbnRofSAke2RhdGUuZ2V0RGF0ZSgpfWBcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlUGxvdHMoZGF0YSkge1xyXG4gIGNvbnN0IGcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKVxyXG4gIGcuY2xhc3NMaXN0LmFkZCgncGxvdHMnKVxyXG4gIGZvciAobGV0IG5hbWUgaW4gZGF0YS5wb2ludHMpIHtcclxuICAgIGNvbnN0IHBvbHlsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwb2x5bGluZScpXHJcbiAgICBwb2x5bGluZS5jbGFzc0xpc3QuYWRkKG5hbWUpXHJcbiAgICBwb2x5bGluZS5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIGRhdGEucG9pbnRzW25hbWVdLmpvaW4oJyAnKSlcclxuICAgIHBvbHlsaW5lLnN0eWxlLnN0cm9rZSA9IGRhdGEuY29sb3JzW25hbWVdXHJcbiAgICBwb2x5bGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1saW5lam9pbicsICdyb3VuZCcpXHJcbiAgICBnLmFwcGVuZENoaWxkKHBvbHlsaW5lKVxyXG4gIH1cclxuICByZXR1cm4gZ1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9vbHRpcExpbmUoaGVpZ2h0KSB7XHJcbiAgY29uc3QgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnbGluZScpXHJcbiAgbGluZS5jbGFzc0xpc3QuYWRkKCd0b29sdGlwLWxpbmUnKVxyXG4gIGxpbmUuc2V0QXR0cmlidXRlKCd5MScsIDApXHJcbiAgbGluZS5zZXRBdHRyaWJ1dGUoJ3kyJywgaGVpZ2h0KVxyXG4gIHJldHVybiBsaW5lXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNYXJrZXIobmFtZSwgY29sb3IpIHtcclxuICBjb25zdCBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpXHJcbiAgY2lyY2xlLnN0eWxlLnN0cm9rZSA9IGNvbG9yXHJcbiAgY2lyY2xlLmNsYXNzTGlzdC5hZGQobmFtZSwgJ21hcmtlcicpXHJcbiAgY2lyY2xlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdyJywgJzVweCcpXHJcbiAgcmV0dXJuIGNpcmNsZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9vbHRpcChkYXRhKSB7XHJcbiAgY29uc3QgZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpXHJcbiAgZy5jbGFzc0xpc3QuYWRkKCd0b29sdGlwJylcclxuXHJcbiAgY29uc3QgcmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpXHJcbiAgcmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsICdNMTEsMCBoMTAwIGExMCwxMCAwIDAgMSAxMCwxMCB2NjAgYTEwLDEwIDAgMCAxIC0xMCwxMCBoLTEwMCBhMTAsMTAgMCAwIDEgLTEwLC0xMCB2LTYwIGExMCwxMCAwIDAgMSAxMCwtMTAgeicpXHJcbiAgcmVjdC5jbGFzc0xpc3QuYWRkKCdjb250YWluZXInKVxyXG5cclxuICBjb25zdCBkYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0ZXh0JylcclxuICBkYXRlLnNldEF0dHJpYnV0ZSgneCcsIDE1KVxyXG4gIGRhdGUuc2V0QXR0cmlidXRlKCd5JywgMjApXHJcbiAgZGF0ZS5jbGFzc0xpc3QuYWRkKCdkYXRlJylcclxuXHJcbiAgZy5hcHBlbmRDaGlsZChyZWN0KVxyXG4gIGcuYXBwZW5kQ2hpbGQoZGF0ZSlcclxuXHJcbiAgZGF0YS5jb2x1bW5zLm1hcCgoY29sLCBpKSA9PiB7XHJcbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAndGV4dCcpXHJcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ3gnLCAxNSArIDUwKmkpXHJcbiAgICBsYWJlbC5zdHlsZS5maWxsID0gZGF0YS5jb2xvcnNbY29sWzBdXVxyXG5cclxuICAgIGNvbnN0IHZhbHVlID0gbGFiZWwuY2xvbmVOb2RlKClcclxuICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsJylcclxuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgneScsIDY1KVxyXG4gICAgbGFiZWwudGV4dENvbnRlbnQgPSBjb2xbMF1cclxuXHJcbiAgICB2YWx1ZS5zZXRBdHRyaWJ1dGUoJ3knLCA0NylcclxuICAgIHZhbHVlLmNsYXNzTGlzdC5hZGQoJ3ZhbHVlJywgYHZhbHVlLSR7Y29sWzBdfWApXHJcblxyXG4gICAgZy5hcHBlbmRDaGlsZChsYWJlbClcclxuICAgIGcuYXBwZW5kQ2hpbGQodmFsdWUpXHJcbiAgfSlcclxuICByZXR1cm4gZ1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGljayhsaW5lSGVpZ2h0LCByYXRpbywgaSkge1xyXG4gIGNvbnN0IG9mZnNldCA9IGxpbmVIZWlnaHQgKiByYXRpb1xyXG4gIGNvbnN0IHRpY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKVxyXG4gIHRpY2suY2xhc3NMaXN0LmFkZCgndGljaycsIGB0aWNrJHtpfWApXHJcbiAgY29uc3QgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnbGluZScpXHJcbiAgbGluZS5zZXRBdHRyaWJ1dGUoJ3gxJywgMTApXHJcbiAgbGluZS5zZXRBdHRyaWJ1dGUoJ3gyJywgOTkwKVxyXG4gIGxpbmUuc2V0QXR0cmlidXRlKCd5MScsIG9mZnNldCooNi1pKSlcclxuICBsaW5lLnNldEF0dHJpYnV0ZSgneTInLCBvZmZzZXQqKDYtaSkpXHJcbiAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAndGV4dCcpXHJcbiAgdGV4dC5jbGFzc0xpc3QuYWRkKCd0aWNrLXRleHQnLCBgdGljay10ZXh0JHtpfWApXHJcbiAgdGV4dC5zZXRBdHRyaWJ1dGUoJ3gnLCAxMClcclxuICB0ZXh0LnNldEF0dHJpYnV0ZSgneScsIG9mZnNldCooNi1pKSAtIDU1KVxyXG4gIHRleHQudGV4dENvbnRlbnQgPSBsaW5lSGVpZ2h0KmlcclxuICB0aWNrLmFwcGVuZENoaWxkKGxpbmUpXHJcbiAgcmV0dXJuIHt0aWNrLCB0ZXh0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQnV0dG9uKHRleHQsIGNvbG9yKSB7XHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuICBidXR0b24uY2xhc3NMaXN0LmFkZCgndG9nZ2xlJylcclxuICBidXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpXHJcbiAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCB0ZXh0KVxyXG4gIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcclxuICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ljb24nKVxyXG4gIGljb24uc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yXHJcbiAgYnV0dG9uLmFwcGVuZENoaWxkKGljb24pXHJcbiAgY29uc3QgdHh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXHJcbiAgdHh0LnRleHRDb250ZW50ID0gdGV4dFxyXG4gIGJ1dHRvbi5hcHBlbmRDaGlsZCh0eHQpXHJcbiAgcmV0dXJuIGJ1dHRvblxyXG59XHJcbiIsImltcG9ydCAqIGFzIGNoYXJ0X2RhdGEgZnJvbSAnLi9jaGFydF9kYXRhLmpzb24nXHJcbmltcG9ydCB7Wm9vbX0gZnJvbSAnLi96b29tJ1xyXG5pbXBvcnQge3Rocm90dGxlLCBkZWJvdW5jZSwgYW5pbWF0ZSwgc2NhbGVUZXh0LCBmb3JtYXREYXRlfSBmcm9tICcuL2hlbHBlcnMnXHJcbmltcG9ydCB7Y3JlYXRlUGxvdHMsIGNyZWF0ZVRvb2x0aXAsIGNyZWF0ZVRvb2x0aXBMaW5lLCBjcmVhdGVNYXJrZXIsIGNyZWF0ZVRpY2ssIGNyZWF0ZUJ1dHRvbn0gZnJvbSAnLi9lbGVtZW50Q3JlYXRvcnMnXHJcblxyXG5jbGFzcyBDaGFydCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgdGhpcy5kYXRhID0gdGhpcy5wcmVwYXJlRGF0YShkYXRhKVxyXG4gICAgdGhpcy5zdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbicpXHJcbiAgICB0aGlzLnhTY2FsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN4c2NhbGUnKVxyXG4gICAgdGhpcy56b29tID0gbmV3IFpvb20odGhpcylcclxuXHJcbiAgICB0aGlzLnN0YXJ0ID0gdGhpcy5zdGFydC5iaW5kKHRoaXMpXHJcbiAgICB0aGlzLm1vdXNlbW92ZSA9IHRoaXMubW91c2Vtb3ZlLmJpbmQodGhpcylcclxuICAgIHRoaXMuZW5kID0gdGhpcy5lbmQuYmluZCh0aGlzKVxyXG4gICAgdGhpcy50b2dnbGUgPSB0aGlzLnRvZ2dsZS5iaW5kKHRoaXMpXHJcbiAgICB0aGlzLnNldEhlaWdodCA9IGRlYm91bmNlKHRoaXMuc2V0SGVpZ2h0LCAxMDApXHJcblxyXG4gICAgdGhpcy5wb3NpdGlvbiA9IDBcclxuICAgIHRoaXMud2lkdGggPSAyMDBcclxuICAgIHRoaXMueVJhdGlvID0gMVxyXG4gICAgdGhpcy5saW5lSGVpZ2h0ID0gdGhpcy5kYXRhLm1heC81LjVcclxuICAgIHRoaXMuaGlkZGVuID0gW11cclxuICB9XHJcblxyXG4gIGdldCB4UmF0aW8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGVzLmxlbmd0aCoxMC90aGlzLndpZHRoXHJcbiAgfVxyXG5cclxuICBnZXQgbWF4KCkge1xyXG4gICAgcmV0dXJuIHRoaXMubGluZUhlaWdodCo1LjVcclxuICB9XHJcblxyXG4gIGdldCBtYXRyaXgoKSB7XHJcbiAgICByZXR1cm4gW3RoaXMueFJhdGlvLCAwLCAwLCAxLCAtdGhpcy5wb3NpdGlvbip0aGlzLnhSYXRpbywgMF1cclxuICB9XHJcblxyXG4gIGdldCByZWN0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3ZnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgfVxyXG5cclxuICBwcmVwYXJlRGF0YShkYXRhKSB7XHJcbiAgICBsZXQge2NvbHVtbnMsIGNvbG9yc30gPSBkYXRhXHJcbiAgICBsZXQgcG9pbnRzID0ge31cclxuICAgIGNvbnN0IHhJbmRleCA9IGNvbHVtbnMuZmluZEluZGV4KGVsID0+IGVsWzBdID09PSAneCcpXHJcbiAgICBjb25zdCB4ID0gY29sdW1ucy5zcGxpY2UoeEluZGV4LCAxKVswXVxyXG4gICAgbGV0IG1pbiA9IG51bGxcclxuICAgIGxldCBtYXggPSBudWxsXHJcbiAgICBsZXQgZGF0ZXMgPSBbXVxyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGRhdGVzLnB1c2goZm9ybWF0RGF0ZSh4W2ldKSlcclxuICAgICAgY29sdW1ucy5tYXAoY29sID0+IHtcclxuICAgICAgICBpZiAoIXBvaW50c1tjb2xbMF1dKSB7XHJcbiAgICAgICAgICBwb2ludHNbY29sWzBdXSA9IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgY29sW2ldKVxyXG4gICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgY29sW2ldKVxyXG4gICAgICAgIHBvaW50c1tjb2xbMF1dLnB1c2goYCR7KGktMSkqMTB9LCR7Y29sW2ldfWApXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICByZXR1cm4ge2NvbHVtbnMsIGNvbG9ycywgcG9pbnRzLCBtaW4sIG1heCwgZGF0ZXMsIHh9XHJcbiAgfVxyXG5cclxuICBtb3ZlKHBvc2l0aW9uLCB3aWR0aCkge1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uXHJcbiAgICB0aGlzLndpZHRoID0gd2lkdGhcclxuXHJcbiAgICBjb25zdCBwbG90cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbG90cycpXHJcbiAgICBwbG90cy5zdHlsZS50cmFuc2Zvcm0gPSBgbWF0cml4KCR7dGhpcy5tYXRyaXguam9pbignLCAnKX0pYFxyXG5cclxuICAgIHRoaXMubW92ZVhTY2FsZSgpXHJcbiAgICB0aGlzLnNldEhlaWdodCgpXHJcbiAgfVxyXG5cclxuICBtb3ZlWFNjYWxlKCkge1xyXG4gICAgbGV0IHN0eWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3hzY2FsZS1zdHlsZScpXHJcbiAgICBpZiAoIXN0eWxlKSB7XHJcbiAgICAgIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxyXG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3hzY2FsZS1zdHlsZScpXHJcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpXHJcbiAgICB9XHJcbiAgICBjb25zdCBtYXJnaW4gPSA4MFxyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmRhdGEuZGF0ZXMubGVuZ3RoKjEwL3RoaXMud2lkdGggKiB0aGlzLnJlY3Qud2lkdGhcclxuICAgIGNvbnN0IGxlZnQgPSAtdGhpcy5wb3NpdGlvbioodGhpcy5yZWN0LndpZHRoL3RoaXMud2lkdGgpXHJcbiAgICBjb25zdCBuID0gTWF0aC5jZWlsKHRoaXMuZGF0YS5kYXRlcy5sZW5ndGgvKHdpZHRoL21hcmdpbikpXHJcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcclxuICAgICAgI3hzY2FsZSB7XHJcbiAgICAgICAgd2lkdGg6ICR7d2lkdGh9cHg7XHJcbiAgICAgICAgbGVmdDogJHtsZWZ0fXB4O1xyXG4gICAgICB9XHJcbiAgICAgICN4c2NhbGUgc3Bhbjpub3QoOm50aC1vZi10eXBlKCR7bn1uICsgMSkpIHtcclxuICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICB9XHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBzZXRIZWlnaHQoKSB7XHJcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5jZWlsKHRoaXMucG9zaXRpb24vMTAgKyAxKVxyXG4gICAgY29uc3QgcmlnaHQgPSBNYXRoLmZsb29yKCh0aGlzLnBvc2l0aW9uICsgdGhpcy53aWR0aCkvMTAgKyAxKVxyXG4gICAgdGhpcy5nZXRZRXh0ZW50cyhsZWZ0LCByaWdodClcclxuICAgIGNvbnN0IHlSYXRpbyA9IHRoaXMucmVjdC5oZWlnaHQvdGhpcy5tYXhcclxuICAgIGlmICh0aGlzLnlSYXRpbyA9PT0geVJhdGlvKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgY29uc3Qgc3RyZXRjaCA9IHRoaXMueVJhdGlvIDwgeVJhdGlvXHJcbiAgICB0aGlzLnlSYXRpbyA9IHlSYXRpb1xyXG4gICAgY29uc3QgcG9seWxpbmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI21haW4gLnBsb3RzIHBvbHlsaW5lJylcclxuICAgIGZvciAobGV0IGk9MDsgaTxwb2x5bGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgcGxvdCA9IHBvbHlsaW5lc1tpXVxyXG4gICAgICBwbG90LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgxLCAke3RoaXMueVJhdGlvfSlgXHJcbiAgICB9XHJcbiAgICB0aGlzLnVwZGF0ZVRpY2tzKHN0cmV0Y2gpXHJcbiAgfVxyXG5cclxuICB1cGRhdGVUaWNrcyhzdHJldGNoKSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGlja3MnKVxyXG4gICAgY29uc3QgdGV4dENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aWNrLXRleHRzJylcclxuICAgIGZvciAobGV0IGk9NTsgaT49MTsgaS0tKSB7XHJcbiAgICAgIGNvbnN0IG9sZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50aWNrJHtpfWApXHJcbiAgICAgIGNvbnN0IG9sZFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGljay10ZXh0JHtpfWApXHJcbiAgICAgIGxldCB7dG9wfSA9IG9sZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4gICAgICBjb25zdCBzdHJldGNoZWQgPSBpICogKHRoaXMucmVjdC5oZWlnaHQgLSB0b3ApL3RoaXMueVJhdGlvXHJcbiAgICAgIGNvbnN0IHNocmlua2VkID0gKGktNikgKiAodGhpcy5yZWN0LmhlaWdodCAtIHRvcCkvdGhpcy55UmF0aW9cclxuXHJcbiAgICAgIGNvbnN0IHt0aWNrLCB0ZXh0fSA9IGNyZWF0ZVRpY2sodGhpcy5saW5lSGVpZ2h0LCB0aGlzLnlSYXRpbywgaSlcclxuICAgICAgdGljay5jbGFzc0xpc3QuYWRkKCdlbnRlcicpXHJcbiAgICAgIHRleHQuY2xhc3NMaXN0LmFkZCgnZW50ZXInKVxyXG5cclxuICAgICAgaWYgKHN0cmV0Y2gpIHtcclxuICAgICAgICBvbGQuY2xhc3NMaXN0LmFkZCgnb2xkJylcclxuICAgICAgICBvbGRUZXh0LmNsYXNzTGlzdC5hZGQoJ29sZCcpXHJcbiAgICAgICAgb2xkLnNldEF0dHJpYnV0ZU5TKG51bGwsICd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtzdHJldGNoZWR9KWApXHJcbiAgICAgICAgb2xkVGV4dC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7c3RyZXRjaGVkfSkgc2NhbGUoMSwtMSlgKVxyXG4gICAgICAgIHRpY2suc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke3Nocmlua2VkfSlgKVxyXG4gICAgICAgIHRleHQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke3Nocmlua2VkfSkgc2NhbGUoMSwtMSlgKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9sZC5jbGFzc0xpc3QuYWRkKCdvbGQnKVxyXG4gICAgICAgIG9sZFRleHQuY2xhc3NMaXN0LmFkZCgnb2xkJylcclxuICAgICAgICBvbGQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke3Nocmlua2VkfSlgKVxyXG4gICAgICAgIG9sZFRleHQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke3Nocmlua2VkfSkgc2NhbGUoMSwtMSlgKVxyXG4gICAgICAgIHRpY2suc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke3N0cmV0Y2hlZH0pYClcclxuICAgICAgICB0ZXh0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtzdHJldGNoZWR9KSBzY2FsZSgxLC0xKWApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aWNrKVxyXG4gICAgICB0ZXh0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRleHQpXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRpY2suc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwwKWApXHJcbiAgICAgICAgdGV4dC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLDApIHNjYWxlKDEsLTEpYClcclxuICAgICAgfSwwKVxyXG5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGljay5jbGFzc0xpc3QucmVtb3ZlKCdlbnRlcicpXHJcbiAgICAgICAgdGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdlbnRlcicpXHJcbiAgICAgIH0sMzMzKVxyXG4gICAgfVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9sZCcpXHJcbiAgICAgIGZvciAobGV0IGk9MDsgaTxhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGFycmF5W2ldLnJlbW92ZSgpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBnZXRZRXh0ZW50cyhzdGFydCwgZW5kKSB7XHJcbiAgICBsZXQgbWluQ29sID0gW11cclxuICAgIGxldCBtYXhDb2wgPSBbXVxyXG4gICAgdGhpcy5kYXRhLmNvbHVtbnMubWFwKChjb2wsIGkpID0+IHtcclxuICAgICAgaWYgKHRoaXMuaGlkZGVuLmluZGV4T2YoY29sWzBdKSA9PT0gLTEpIHtcclxuICAgICAgICBjb25zdCBhcnJheSA9IGNvbC5zbGljZShzdGFydCwgZW5kKVxyXG4gICAgICAgIG1pbkNvbC5wdXNoKE1hdGgubWluLmFwcGx5KG51bGwsIGFycmF5KSlcclxuICAgICAgICBtYXhDb2wucHVzaChNYXRoLm1heC5hcHBseShudWxsLCBhcnJheSkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBjb25zdCBtaW4gPSBNYXRoLm1pbi5hcHBseShudWxsLCBtaW5Db2wpXHJcbiAgICBsZXQgbWF4ID0gTWF0aC5tYXguYXBwbHkobnVsbCwgbWF4Q29sKVxyXG4gICAgbGV0IG1vZHVsbyA9IG1heCU1XHJcbiAgICBsZXQgbGluZUhlaWdodCA9IChtYXgtbW9kdWxvKS81XHJcbiAgICBpZiAobW9kdWxvIDwgTWF0aC5mbG9vcihsaW5lSGVpZ2h0LzIpICYmIChsaW5lSGVpZ2h0LTEpKjUuNSA+IG1heCkge1xyXG4gICAgICBsaW5lSGVpZ2h0LS1cclxuICAgIH1cclxuICAgIHdoaWxlIChtb2R1bG8gPiBsaW5lSGVpZ2h0LzIpIHtcclxuICAgICAgbGluZUhlaWdodCsrXHJcbiAgICB9XHJcbiAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0XHJcbiAgfVxyXG5cclxuICBkcmF3WFNjYWxlKCkge1xyXG4gICAgdGhpcy54U2NhbGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXHJcbiAgICB0aGlzLnhTY2FsZS5zdHlsZS5oZWlnaHQgPSAnNTBweCdcclxuICAgIGNvbnN0IG9mZnNldCA9IDEwMC90aGlzLmRhdGEuZGF0ZXMubGVuZ3RoXHJcbiAgICB0aGlzLmRhdGEuZGF0ZXMubWFwKChkYXRlLCBpKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcclxuICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGRhdGVcclxuICAgICAgdGV4dC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSdcclxuICAgICAgdGV4dC5zdHlsZS5sZWZ0ID0gaSpvZmZzZXQgKyAnJSdcclxuICAgICAgdGhpcy54U2NhbGUuYXBwZW5kQ2hpbGQodGV4dClcclxuICAgICAgdGV4dC5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSdcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBzdGFydChlKSB7XHJcbiAgICBjb25zdCBsaW5lID0gY3JlYXRlVG9vbHRpcExpbmUodGhpcy5yZWN0LmhlaWdodClcclxuICAgIGNvbnN0IHRvb2x0aXAgPSBjcmVhdGVUb29sdGlwKHRoaXMuZGF0YSlcclxuICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKGxpbmUpXHJcbiAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZCh0b29sdGlwKVxyXG4gICAgdGhpcy5kYXRhLmNvbHVtbnMubWFwKGNvbCA9PiB7XHJcbiAgICAgIGNvbnN0IG1hcmtlciA9IGNyZWF0ZU1hcmtlcihjb2xbMF0sIHRoaXMuZGF0YS5jb2xvcnNbY29sWzBdXSlcclxuICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQobWFya2VyKVxyXG4gICAgfSlcclxuICAgIHRoaXMubW91c2Vtb3ZlKGUpXHJcbiAgfVxyXG5cclxuICBtb3VzZW1vdmUoZSkge1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMuZ2V0Q29vcmRpbmF0ZXMoZSlcclxuICAgIGxldCBwb2ludCA9IE1hdGgucm91bmQoKGNvb3JkaW5hdGUvdGhpcy54UmF0aW8rdGhpcy5wb3NpdGlvbikvMTApXHJcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5wb3NpdGlvbiUodGhpcy54UmF0aW8qMTApXHJcbiAgICBsZXQgY3ggPSBNYXRoLnJvdW5kKGNvb3JkaW5hdGUvKHRoaXMueFJhdGlvKjEwKSkqMTAqdGhpcy54UmF0aW9cclxuICAgIGNvbnN0IGxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcC1saW5lJylcclxuICAgIGxpbmUuc2V0QXR0cmlidXRlKCd4MScsIChwb2ludCoxMC10aGlzLnBvc2l0aW9uKSp0aGlzLnhSYXRpbylcclxuICAgIGxpbmUuc2V0QXR0cmlidXRlKCd4MicsIChwb2ludCoxMC10aGlzLnBvc2l0aW9uKSp0aGlzLnhSYXRpbylcclxuXHJcbiAgICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvb2x0aXAnKVxyXG4gICAgbGV0IHggPSBNYXRoLm1heCgwLChwb2ludCoxMC10aGlzLnBvc2l0aW9uKSp0aGlzLnhSYXRpbyAtIDIwKVxyXG4gICAgeCA9IE1hdGgubWluKHgsIHRoaXMucmVjdC53aWR0aCAtIDEyMilcclxuICAgIHRvb2x0aXAuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7eH0sIDApIHNjYWxlKDEsLTEpYClcclxuICAgIGNvbnN0IGRhdGVUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvb2x0aXAgLmRhdGUnKVxyXG4gICAgZGF0ZVRleHQudGV4dENvbnRlbnQgPSBuZXcgRGF0ZSh0aGlzLmRhdGEueFtwb2ludCsxXSkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHt3ZWVrZGF5OiAnc2hvcnQnLCBkYXk6ICdudW1lcmljJywgbW9udGg6ICdzaG9ydCd9KVxyXG5cclxuICAgIHRoaXMuZGF0YS5jb2x1bW5zLm1hcChjb2wgPT4ge1xyXG4gICAgICBjb25zdCBjaXJjbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAubWFya2VyLiR7Y29sWzBdfWApXHJcbiAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnZhbHVlLSR7Y29sWzBdfWApXHJcbiAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gY29sW3BvaW50KzFdXHJcbiAgICAgIGlmICghY2lyY2xlKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgY3ggPSB0aGlzLmRhdGEucG9pbnRzW2NvbFswXV1bcG9pbnRdLnNwbGl0KCcsJylbMF1cclxuICAgICAgY29uc3QgY3kgPSB0aGlzLmRhdGEucG9pbnRzW2NvbFswXV1bcG9pbnRdLnNwbGl0KCcsJylbMV1cclxuICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeCcsIGN4KnRoaXMueFJhdGlvIC0gdGhpcy5wb3NpdGlvbip0aGlzLnhSYXRpbylcclxuICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeScsIGN5KnRoaXMueVJhdGlvKVxyXG4gICAgICB0aGlzLnN2Zy5pbnNlcnRCZWZvcmUoY2lyY2xlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcCcpKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGVuZCgpIHtcclxuICAgIGNvbnN0IGxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcC1saW5lJylcclxuICAgIGNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcCcpXHJcbiAgICBsaW5lLnJlbW92ZSgpXHJcbiAgICB0b29sdGlwLnJlbW92ZSgpXHJcbiAgICB0aGlzLmRhdGEuY29sdW1ucy5tYXAoY29sID0+IHtcclxuICAgICAgY29uc3QgY2lyY2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgY2lyY2xlLiR7Y29sWzBdfWApXHJcbiAgICAgIGlmICghY2lyY2xlKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgICAgY2lyY2xlLnJlbW92ZSgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlKGUpIHtcclxuICAgIGNvbnN0IHt2YWx1ZX0gPSBlLnRhcmdldFxyXG4gICAgaWYgKHRoaXMuaGlkZGVuLmZpbmQoZWwgPT4gZWwgPT09IHZhbHVlKSkge1xyXG4gICAgICB0aGlzLmhpZGRlbi5zcGxpY2UodGhpcy5oaWRkZW4uaW5kZXhPZih2YWx1ZSksIDEpXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHBvbHlsaW5lLiR7dmFsdWV9YCkuc3R5bGUub3BhY2l0eSA9IDFcclxuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaGlkZGVuLnB1c2godmFsdWUpXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHBvbHlsaW5lLiR7dmFsdWV9YCkuc3R5bGUub3BhY2l0eSA9IDBcclxuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmhpZGRlbi5sZW5ndGggPCB0aGlzLmRhdGEuY29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5zZXRIZWlnaHQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLnN0YXJ0KVxyXG4gICAgdGhpcy5zdmcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tb3VzZW1vdmUpXHJcbiAgICB0aGlzLnN2Zy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5lbmQpXHJcbiAgICB0aGlzLnpvb20uc3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIGAwICR7dGhpcy5kYXRhLm1pbn0gJHsodGhpcy5kYXRhLmRhdGVzLmxlbmd0aCAtIDEpICogMTB9ICR7dGhpcy5kYXRhLm1heCAtIHRoaXMuZGF0YS5taW59YClcclxuICAgIHRoaXMuZHJhd1hTY2FsZSgpXHJcbiAgICBjb25zdCBwbG90cyA9IGNyZWF0ZVBsb3RzKHRoaXMuZGF0YSlcclxuICAgIGNvbnN0IHpvb21QbG90cyA9IHBsb3RzLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgdGhpcy56b29tLnN2Zy5pbnNlcnRCZWZvcmUoem9vbVBsb3RzLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmcnKSlcclxuICAgIHRoaXMuc3ZnLmluc2VydEJlZm9yZShwbG90cywgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpY2stdGV4dHMnKSlcclxuICAgIHRoaXMuem9vbS5jcmVhdGUoKVxyXG4gICAgdGhpcy5kYXRhLmNvbHVtbnMubWFwKGNvbCA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbihjb2xbMF0sIHRoaXMuZGF0YS5jb2xvcnNbY29sWzBdXSlcclxuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGUpXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNidXR0b25zJykuYXBwZW5kQ2hpbGQoYnV0dG9uKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldENvb3JkaW5hdGVzKGUpIHtcclxuICAgIGNvbnN0IGN0bSA9IHRoaXMuc3ZnLmdldFNjcmVlbkNUTSgpXHJcbiAgICByZXR1cm4gKGUuY2xpZW50WCAtIGN0bS5lKSAvIGN0bS5hXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBjaGFydCA9IG5ldyBDaGFydChjaGFydF9kYXRhWzBdKVxyXG5jaGFydC5pbml0KClcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==